{"version":3,"sources":["JsiSkDataFactory.ts"],"names":["JsiSkDataFactory","Host","constructor","CanvasKit","fromURI","uri","fetch","then","response","arrayBuffer","data","JsiSkData","fromBytes","bytes","fromBase64","base64","Uint8Array","from","atob","c","charCodeAt"],"mappings":";;;;;;;AAMA;;AACA;;AAPA;AASO,MAAMA,gBAAN,SAA+BC,UAA/B,CAA2D;AAChEC,EAAAA,WAAW,CAACC,SAAD,EAAuB;AAChC,UAAMA,SAAN;AACD;;AAEDC,EAAAA,OAAO,CAACC,GAAD,EAAc;AACnB,WAAOC,KAAK,CAACD,GAAD,CAAL,CACJE,IADI,CACEC,QAAD,IAAcA,QAAQ,CAACC,WAAT,EADf,EAEJF,IAFI,CAEEG,IAAD,IAAU,IAAIC,oBAAJ,CAAc,KAAKR,SAAnB,EAA8BO,IAA9B,CAFX,CAAP;AAGD;AACD;AACF;AACA;AACA;;;AACEE,EAAAA,SAAS,CAACC,KAAD,EAAoB;AAC3B,WAAO,IAAIF,oBAAJ,CAAc,KAAKR,SAAnB,EAA8BU,KAA9B,CAAP;AACD;AACD;AACF;AACA;AACA;;;AACEC,EAAAA,UAAU,CAACC,MAAD,EAAyB;AACjC,UAAMF,KAAK,GAAGG,UAAU,CAACC,IAAX,CAAgBC,IAAI,CAACH,MAAD,CAApB,EAA+BI,CAAD,IAAOA,CAAC,CAACC,UAAF,CAAa,CAAb,CAArC,CAAd;AACA,WAAO,KAAKR,SAAL,CAAeC,KAAf,CAAP;AACD;;AAxB+D","sourcesContent":["/*global btoa, atob*/\nimport type { CanvasKit } from \"canvaskit-wasm\";\n\nimport type { SkData } from \"../types\";\nimport type { DataFactory } from \"../types/Data/DataFactory\";\n\nimport { Host } from \"./Host\";\nimport { JsiSkData } from \"./JsiSkData\";\n\nexport class JsiSkDataFactory extends Host implements DataFactory {\n  constructor(CanvasKit: CanvasKit) {\n    super(CanvasKit);\n  }\n\n  fromURI(uri: string) {\n    return fetch(uri)\n      .then((response) => response.arrayBuffer())\n      .then((data) => new JsiSkData(this.CanvasKit, data));\n  }\n  /**\n   * Creates a new Data object from a byte array.\n   * @param bytes An array of bytes representing the data\n   */\n  fromBytes(bytes: Uint8Array) {\n    return new JsiSkData(this.CanvasKit, bytes);\n  }\n  /**\n   * Creates a new Data object from a base64 encoded string.\n   * @param base64 A Base64 encoded string representing the data\n   */\n  fromBase64(base64: string): SkData {\n    const bytes = Uint8Array.from(atob(base64), (c) => c.charCodeAt(0));\n    return this.fromBytes(bytes);\n  }\n}\n"]}