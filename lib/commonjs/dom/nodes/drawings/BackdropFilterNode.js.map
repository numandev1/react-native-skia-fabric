{"version":3,"sources":["BackdropFilterNode.ts"],"names":["BackdropFilterNode","JsiDrawingNode","constructor","ctx","props","NodeType","BackdropFilter","deriveProps","draw","canvas","child","_children","filter","JsiDeclarationNode","materialize","saveLayer","undefined","Skia","ImageFilter","MakeColorFilter","restore"],"mappings":";;;;;;;AAAA;;AAEA;;AACA;;AAEA;;AAEO,MAAMA,kBAAN,SAAiCC,2BAAjC,CAAqE;AAC1EC,EAAAA,WAAW,CAACC,GAAD,EAAmBC,KAAnB,EAAyC;AAClD,UAAMD,GAAN,EAAWE,iBAASC,cAApB,EAAoCF,KAApC;AACD;;AAESG,EAAAA,WAAW,GAAG;AACtB,WAAO,IAAP;AACD;;AAEDC,EAAAA,IAAI,OAA6B;AAAA,QAA5B;AAAEC,MAAAA;AAAF,KAA4B;AAC/B,UAAMC,KAAK,GAAG,KAAKC,SAAL,CAAe,CAAf,CAAd;AACA,UAAMC,MAAM,GACVF,KAAK,YAAYG,wBAAjB,GAAsCH,KAAK,CAACI,WAAN,EAAtC,GAA4D,IAD9D;AAEAL,IAAAA,MAAM,CAACM,SAAP,CACEC,SADF,EAEE,IAFF,EAGE,0BAAcJ,MAAd,IACI,KAAKK,IAAL,CAAUC,WAAV,CAAsBC,eAAtB,CAAsCP,MAAtC,EAA8C,IAA9C,CADJ,GAEIA,MALN;AAOAH,IAAAA,MAAM,CAACW,OAAP;AACD;;AArByE","sourcesContent":["import { isColorFilter } from \"../../../skia/types\";\nimport type { ChildrenProps, DrawingContext } from \"../../types\";\nimport { NodeType } from \"../../types\";\nimport { JsiDrawingNode } from \"../DrawingNode\";\nimport type { NodeContext } from \"../Node\";\nimport { JsiDeclarationNode } from \"../Node\";\n\nexport class BackdropFilterNode extends JsiDrawingNode<ChildrenProps, null> {\n  constructor(ctx: NodeContext, props: ChildrenProps) {\n    super(ctx, NodeType.BackdropFilter, props);\n  }\n\n  protected deriveProps() {\n    return null;\n  }\n\n  draw({ canvas }: DrawingContext) {\n    const child = this._children[0];\n    const filter =\n      child instanceof JsiDeclarationNode ? child.materialize() : null;\n    canvas.saveLayer(\n      undefined,\n      null,\n      isColorFilter(filter)\n        ? this.Skia.ImageFilter.MakeColorFilter(filter, null)\n        : filter\n    );\n    canvas.restore();\n  }\n}\n"]}