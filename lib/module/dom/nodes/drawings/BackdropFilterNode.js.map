{"version":3,"sources":["BackdropFilterNode.ts"],"names":["isColorFilter","NodeType","JsiDrawingNode","JsiDeclarationNode","BackdropFilterNode","constructor","ctx","props","BackdropFilter","deriveProps","draw","canvas","child","_children","filter","materialize","saveLayer","undefined","Skia","ImageFilter","MakeColorFilter","restore"],"mappings":"AAAA,SAASA,aAAT,QAA8B,qBAA9B;AAEA,SAASC,QAAT,QAAyB,aAAzB;AACA,SAASC,cAAT,QAA+B,gBAA/B;AAEA,SAASC,kBAAT,QAAmC,SAAnC;AAEA,OAAO,MAAMC,kBAAN,SAAiCF,cAAjC,CAAqE;AAC1EG,EAAAA,WAAW,CAACC,GAAD,EAAmBC,KAAnB,EAAyC;AAClD,UAAMD,GAAN,EAAWL,QAAQ,CAACO,cAApB,EAAoCD,KAApC;AACD;;AAESE,EAAAA,WAAW,GAAG;AACtB,WAAO,IAAP;AACD;;AAEDC,EAAAA,IAAI,OAA6B;AAAA,QAA5B;AAAEC,MAAAA;AAAF,KAA4B;AAC/B,UAAMC,KAAK,GAAG,KAAKC,SAAL,CAAe,CAAf,CAAd;AACA,UAAMC,MAAM,GACVF,KAAK,YAAYT,kBAAjB,GAAsCS,KAAK,CAACG,WAAN,EAAtC,GAA4D,IAD9D;AAEAJ,IAAAA,MAAM,CAACK,SAAP,CACEC,SADF,EAEE,IAFF,EAGEjB,aAAa,CAACc,MAAD,CAAb,GACI,KAAKI,IAAL,CAAUC,WAAV,CAAsBC,eAAtB,CAAsCN,MAAtC,EAA8C,IAA9C,CADJ,GAEIA,MALN;AAOAH,IAAAA,MAAM,CAACU,OAAP;AACD;;AArByE","sourcesContent":["import { isColorFilter } from \"../../../skia/types\";\nimport type { ChildrenProps, DrawingContext } from \"../../types\";\nimport { NodeType } from \"../../types\";\nimport { JsiDrawingNode } from \"../DrawingNode\";\nimport type { NodeContext } from \"../Node\";\nimport { JsiDeclarationNode } from \"../Node\";\n\nexport class BackdropFilterNode extends JsiDrawingNode<ChildrenProps, null> {\n  constructor(ctx: NodeContext, props: ChildrenProps) {\n    super(ctx, NodeType.BackdropFilter, props);\n  }\n\n  protected deriveProps() {\n    return null;\n  }\n\n  draw({ canvas }: DrawingContext) {\n    const child = this._children[0];\n    const filter =\n      child instanceof JsiDeclarationNode ? child.materialize() : null;\n    canvas.saveLayer(\n      undefined,\n      null,\n      isColorFilter(filter)\n        ? this.Skia.ImageFilter.MakeColorFilter(filter, null)\n        : filter\n    );\n    canvas.restore();\n  }\n}\n"]}