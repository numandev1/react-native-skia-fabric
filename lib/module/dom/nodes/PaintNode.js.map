{"version":3,"sources":["PaintNode.ts"],"names":["StrokeCap","StrokeJoin","PaintStyle","BlendMode","DeclarationType","NodeType","enumKey","JsiDeclarationNode","PaintNode","constructor","ctx","props","Paint","materialize","color","strokeWidth","blendMode","style","strokeJoin","strokeCap","strokeMiter","opacity","antiAlias","paint","Skia","undefined","setColor","Color","setStrokeWidth","setBlendMode","setStyle","setStrokeJoin","setStrokeCap","setStrokeMiter","setAlphaf","setAntiAlias","_children","forEach","child","isShader","setShader","isColorFilter","setColorFilter","isImageFilter","setImageFilter","isMaskFilter","setMaskFilter","isPathEffect","setPathEffect","Error","type"],"mappings":"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","sourcesContent":["import type { SkPaint } from \"../../skia/types\";\nimport { StrokeCap, StrokeJoin, PaintStyle, BlendMode } from \"../../skia/types\";\nimport type { DeclarationNode, PaintProps } from \"../types\";\nimport { DeclarationType, NodeType } from \"../types\";\n\nimport { enumKey } from \"./datatypes\";\nimport type { NodeContext } from \"./Node\";\nimport { JsiDeclarationNode } from \"./Node\";\n\nexport class PaintNode\n  extends JsiDeclarationNode<PaintProps, SkPaint>\n  implements DeclarationNode<PaintProps, SkPaint>\n{\n  constructor(ctx: NodeContext, props: PaintProps = {}) {\n    super(ctx, DeclarationType.Paint, NodeType.Paint, props);\n  }\n\n  materialize() {\n    const {\n      color,\n      strokeWidth,\n      blendMode,\n      style,\n      strokeJoin,\n      strokeCap,\n      strokeMiter,\n      opacity,\n      antiAlias,\n    } = this.props;\n    const paint = this.Skia.Paint();\n    if (color !== undefined) {\n      paint.setColor(this.Skia.Color(color));\n    }\n    if (strokeWidth !== undefined) {\n      paint.setStrokeWidth(strokeWidth);\n    }\n    if (blendMode !== undefined) {\n      paint.setBlendMode(BlendMode[enumKey(blendMode)]);\n    }\n    if (style !== undefined) {\n      paint.setStyle(PaintStyle[enumKey(style)]);\n    }\n    if (strokeJoin !== undefined) {\n      paint.setStrokeJoin(StrokeJoin[enumKey(strokeJoin)]);\n    }\n    if (strokeCap !== undefined) {\n      paint.setStrokeCap(StrokeCap[enumKey(strokeCap)]);\n    }\n    if (strokeMiter !== undefined) {\n      paint.setStrokeMiter(strokeMiter);\n    }\n    if (opacity !== undefined) {\n      paint.setAlphaf(opacity);\n    }\n    if (antiAlias !== undefined) {\n      paint.setAntiAlias(antiAlias);\n    }\n    this._children.forEach((child) => {\n      if (child instanceof JsiDeclarationNode) {\n        if (child.isShader()) {\n          paint.setShader(child.materialize());\n        } else if (child.isColorFilter()) {\n          paint.setColorFilter(child.materialize());\n        } else if (child.isImageFilter()) {\n          paint.setImageFilter(child.materialize());\n        } else if (child.isMaskFilter()) {\n          paint.setMaskFilter(child.materialize());\n        } else if (child.isPathEffect()) {\n          paint.setPathEffect(child.materialize());\n        } else {\n          throw new Error(`Unknown paint child ${child.type}`);\n        }\n      }\n    });\n    return paint;\n  }\n}\n"]}